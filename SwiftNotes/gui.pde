/* =========================================================
 * ====                   WARNING                        ===
 * =========================================================
 * The code in this tab has been generated from the GUI form
 * designer and care should be taken when editing this file.
 * Only add/edit code inside the event handlers i.e. only
 * use lines between the matching comment tags. e.g.

 void myBtnEvents(GButton button) { //_CODE_:button1:12356:
     // It is safe to enter your event code here  
 } //_CODE_:button1:12356:
 
 * Do not rename this tab!
 * =========================================================
 */

public void textarea1_changed(GTextArea source, GEvent event) { //_CODE_:textarea1:266170:
  if (currentNote != null)
  {
    currentNote.text = textarea1.getText();
  }
  
  saveNotes();
} //_CODE_:textarea1:266170:


public void addButton_clicked(GButton source, GEvent event) { //_CODE_:addButton:563243:

  createNote(generateUniqueTitle());
  textarea1.setVisible(true);
  textarea1.setText("");
  textfield1.setVisible(true);
  textfield1.setText(currentNote.title);
  
  if (( (notes.size() + 1) * buttonHeight) + scrolledDist > height) {
    scrolledDist -= buttonHeight; 
  }
  
  updateSidebar();
} //_CODE_:addButton:563243:


public void textfield1_change1(GTextField source, GEvent event) { //_CODE_:textfield1:837306:
  try
  {
    if (event == GEvent.CHANGED && currentNote != null)
    {
      currentNote.title = textfield1.getText();
      updateSidebar();
      saveNotes();
    }
  }
  catch (NullPointerException e)
  {
    println("monkey");
  }
  
  
} //_CODE_:textfield1:837306:


public void noteButton_clicked(GButton source, GEvent event) 
{
  int index = noteButtons.indexOf(source);
  if (index >= 0 && index < notes.size()) 
  {
    currentNote = notes.get(index);
    textfield1.setText(currentNote.title);
    textarea1.setText(currentNote.text);  // Show the note content in the text area
  }
  else
  {
    println("Error: Could not locate the selected note.");
  }
}

void scrollUpButton_clicked(GButton source, GEvent event) {
  if (scrolledDist < 0) {
    scrolledDist += buttonHeight;
    updateSidebar();
  }
}

void scrollDownButton_clicked(GButton source, GEvent event) {
  if (( (notes.size() + 1) * buttonHeight) + scrolledDist > height) {
    scrolledDist -= buttonHeight;
    updateSidebar();
  }
}


// Create all the GUI controls. 
// autogenerated do not edit
public void createGUI(){
  G4P.messagesEnabled(false);
  G4P.setGlobalColorScheme(GCScheme.BLUE_SCHEME);
  G4P.setMouseOverEnabled(false);
  surface.setTitle("Sketch Window");
  textarea1 = new GTextArea(this, 255, 130, 667, 487, G4P.SCROLLBARS_BOTH);
  textarea1.setLocalColorScheme(GCScheme.CYAN_SCHEME);
  textarea1.setOpaque(true);
  textarea1.addEventHandler(this, "textarea1_changed");
  textarea1.setText("");
  textarea1.setVisible(false);
  
  addButton = new GButton(this, 515, 40, 80, 30);
  addButton.setText("Add Note");
  addButton.setLocalColorScheme(GCScheme.ORANGE_SCHEME);
  addButton.addEventHandler(this, "addButton_clicked");
  
  textfield1 = new GTextField(this, 496, 80, 120, 60, G4P.SCROLLBARS_HORIZONTAL_ONLY);
  textfield1.setOpaque(true);
  textfield1.addEventHandler(this, "textfield1_change1");
  textfield1.setVisible(false);
  
  sidebarPanel = new GPanel(this, 0, 0, 200, height);
  sidebarPanel.setLocalColorScheme(GCScheme.PURPLE_SCHEME);
  sidebarPanel.setOpaque(true);
  
  scrollUpButton = new GButton(this, 200, 10, 40, 30);
  scrollUpButton.setText("Up");
  scrollUpButton.setLocalColorScheme(GCScheme.PURPLE_SCHEME);
  scrollUpButton.addEventHandler(this, "scrollUpButton_clicked");

  scrollDownButton = new GButton(this, 200, 400, 40, 30);
  scrollDownButton.setText("Down");
  scrollDownButton.setLocalColorScheme(GCScheme.PURPLE_SCHEME);
  scrollDownButton.addEventHandler(this, "scrollDownButton_clicked");
  
  
  updateSidebar();
}

// Variable declarations 
// autogenerated do not edit
GTextArea textarea1; 
GPanel sidebarPanel; 
GButton addButton;
GTextField textfield1;
ArrayList<GButton> noteButtons = new ArrayList<GButton>();
GButton scrollUpButton, scrollDownButton;
